<section>
  <h1>SSS · Pag-IBIG · PhilHealth · MPF</h1>
  <form [formGroup]="form" class="grid">
    <mat-form-field appearance="outline">
      <mat-label>Monthly Salary</mat-label>
      <input matInput type="text" appThousandsSeparator formControlName="monthlySalary" inputmode="decimal" />
    </mat-form-field>
    <mat-checkbox formControlName="includeSSSEC">Include SSS EC (employer)</mat-checkbox>
  </form>

  <div class="cards" [@cardsIn]>
    <mat-card>
      <mat-card-title>SSS</mat-card-title>
      <mat-card-content>
        <div>Employee:&nbsp;<span class="accent-number">{{ result.sss.employee | number:'1.2-2' }}</span></div>
        <div>Employer:&nbsp;<span class="accent-number">{{ result.sss.employer | number:'1.2-2' }}</span></div>
        <div class="total-row"><strong>Total:</strong>&nbsp;<span class="accent-number">{{ result.sss.total | number:'1.2-2' }}</span></div>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-title>PhilHealth</mat-card-title>
      <mat-card-content>
        <div>Employee:&nbsp;<span class="accent-number">{{ result.philhealth.employee | number:'1.2-2' }}</span></div>
        <div>Employer:&nbsp;<span class="accent-number">{{ result.philhealth.employer | number:'1.2-2' }}</span></div>
        <div class="total-row"><strong>Total:</strong>&nbsp;<span class="accent-number">{{ result.philhealth.total | number:'1.2-2' }}</span></div>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-title>Pag-IBIG</mat-card-title>
      <mat-card-content>
        <div>Employee:&nbsp;<span class="accent-number">{{ result.pagibig.employee | number:'1.2-2' }}</span></div>
        <div>Employer:&nbsp;<span class="accent-number">{{ result.pagibig.employer | number:'1.2-2' }}</span></div>
        <div class="total-row"><strong>Total:</strong>&nbsp;<span class="accent-number">{{ result.pagibig.total | number:'1.2-2' }}</span></div>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-title>MPF</mat-card-title>
      <mat-card-content>
        <div>Employee:&nbsp;<span class="accent-number">{{ result.mpf.employee | number:'1.2-2' }}</span></div>
        <div>Employer:&nbsp;<span class="accent-number">{{ result.mpf.employer | number:'1.2-2' }}</span></div>
        <div class="total-row"><strong>Total:</strong>&nbsp;<span class="accent-number">{{ result.mpf.total | number:'1.2-2' }}</span></div>
      </mat-card-content>
    </mat-card>

  </div>

  <div class="summary">
    <strong>Employee total:</strong>&nbsp;<span class="accent-number">{{ result.totals.employee | number:'1.2-2' }}</span> ·
    <strong>Employer total:</strong>&nbsp;<span class="accent-number">{{ result.totals.employer | number:'1.2-2' }}</span> ·
    <strong>Overall:</strong>&nbsp;<span class="accent-number">{{ result.totals.total | number:'1.2-2' }}</span>
  </div>

  <p class="note">Notes: SSS values use an approximation (14% rate split 4.5%/9.5% plus EC). PhilHealth uses 5% with floor 10,000 and ceiling 90,000. Pag-IBIG caps at ₱5,000 base with 1–2% employee and 2% employer rates. MPF uses: (min(MSC, ₱35,000) − ₱20,000) × 15%, split 1/3 employee and 2/3 employer; zero if MSC ≤ ₱20,000.</p>
</section>
